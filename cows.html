<!DOCTYPE html>
<html>
<head>
<title>Cow Records</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{margin:0;font-family:Segoe UI;background:#0b0f14;color:white;}
header{padding:15px;text-align:center;color:#f9c74f;}
.box{
 margin:15px;
 padding:20px;
 background:rgba(255,255,255,.08);
 backdrop-filter:blur(12px);
 border-radius:16px;
}
input,textarea,button{
 width:100%;
 padding:10px;
 margin-top:8px;
 border:none;
 border-radius:8px;
 background:#111;
 color:white;
}
button{
 background:linear-gradient(135deg,#f9c74f,#f9844a);
 font-weight:bold;
}
</style>
</head>

<body>

<header>üêÑ Cow Records</header>

<div class="box">
 <input id="id" placeholder="Cow ID">
 <input id="breed" placeholder="Breed">
 <input type="date" id="insemination">
 <textarea id="medical" placeholder="Medical notes"></textarea>
 <button onclick="save()">Save Cow</button>
</div>

<div id="list"></div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
import { getFirestore,collection,addDoc,getDocs,deleteDoc,doc } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

const app=initializeApp({apiKey:"AIzaSyC4lH4ViCEhQbvNt6nLXmfR-AhAa1-b6Bk",projectId:"pgdairy-63765"});
const db=getFirestore(app);

window.save=async()=>{
 await addDoc(collection(db,"cows"),{
  cowId:id.value,
  breed:breed.value,
  insemination:insemination.value,
  medical:medical.value
 });
 load();
};

async function load(){
 list.innerHTML="";
 (await getDocs(collection(db,"cows"))).forEach(d=>{
  list.innerHTML+=`
   <div class="box">
    ${d.data().cowId} - ${d.data().breed}
    <button onclick="del('${d.id}')">Delete</button>
   </div>`;
 });
}
window.del=async i=>{await deleteDoc(doc(db,"cows",i));load();}
load();
</script>

</body>
</html>
