<!DOCTYPE html>
<html>
<head>
<title>Milk Entry</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{margin:0;font-family:Segoe UI;background:#0b0f14;color:white;}
header{text-align:center;padding:15px;color:#f9c74f;}
.box{
 margin:15px;
 padding:20px;
 background:rgba(255,255,255,.08);
 backdrop-filter:blur(12px);
 border-radius:16px;
}
input,button{
 width:100%;
 padding:12px;
 margin-top:10px;
 border:none;
 border-radius:8px;
 background:#111;
 color:white;
}
button{
 background:linear-gradient(135deg,#f9c74f,#f9844a);
 font-weight:bold;
 cursor:pointer;
}
.record{
 margin:15px;
 padding:15px;
 border-radius:14px;
 background:rgba(255,255,255,.06);
}
</style>
</head>

<body>

<header>ðŸ¥› Milk Entry</header>

<div class="box">
 <input type="date" id="date">
 <input id="morning" placeholder="Morning Milk (L)">
 <input id="evening" placeholder="Evening Milk (L)">
 <input id="price" value="35">
 <button onclick="saveMilk()">Save Milk</button>
</div>

<div id="list"></div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
import { getFirestore,collection,addDoc,getDocs } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

const app=initializeApp({apiKey:"AIzaSyC4lH4ViCEhQbvNt6nLXmfR-AhAa1-b6Bk",projectId:"pgdairy-63765"});
const db=getFirestore(app);

date.value=new Date().toISOString().split("T")[0];

window.saveMilk=async()=>{
 let total=Number(morning.value)+Number(evening.value);
 await addDoc(collection(db,"milk"),{
  date:date.value,
  total,
  income:total*Number(price.value)
 });
 load();
 morning.value=evening.value="";
};

async function load(){
 list.innerHTML="";
 (await getDocs(collection(db,"milk"))).forEach(d=>{
  list.innerHTML+=`
   <div class="record">
    ðŸ“… ${d.data().date}<br>
    ðŸ¥› ${d.data().total} L<br>
    ðŸ’° â‚¹${d.data().income}
   </div>`;
 });
}
load();
</script>

</body>
</html>
